# 2026-01-28 变动记录

今天我们为博客系统实现了一个**全栈的智能文件上传与文章管理系统**。

## 📁 新增内容
- **[NEW] `server/api/upload.post.ts`**: 核心上传接口。
  - 支持 API Key 验证。
  - 支持 `multipart/form-data` 解析。
  - 具备智能元数据合并（表单输入 > 文件自带 > 自动提取标题）。
  - 自动归档至相应的 `content/` 子目录。
- **[NEW] `pages/admin.vue`**: 文章管理页面。
  - 漂亮的 UI 面板。
  - 支持设置 API Key、分类、Slug 和元数据覆盖。
  - 上传成功后提供一键预览链接。
- **[NEW] `.env`**: 环境变量配置（存放 `API_KEY`）。
- **[NEW] `test-upload-sample.md`**: 用于功能测试的样板文件。

## 🔧 优化与配置
- **`nuxt.config.ts`**: 配置了 `runtimeConfig` 以读取 `.env` 中的密钥。
- **依赖安装**:
  - `h3-formidable`: 用于后端解析表单。
  - `@types/node`: 增强开发时的 TypeScript 类型提示。

## 🎓 学习点
1. **Nuxt 3 Nitro 后端接口编写**: 如何获取 Header、处理 POST 数据。
2. **前后端联调**: 使用 `FormData` 在前端发送二进制文件并在后端接收。
3. **环境安全性**: 使用 `.env` 隔离敏感数据。

---
*记录生成时间：2026-01-28 23:13*
